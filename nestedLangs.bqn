#! /usr/bin/env bqn

# use output files for print debugging, since lang2 uses stdout a lot:
# "out.txt"âŠ¸â€¢FCharsâˆ˜â€¢ReprâŠ¸âŠ¢

lfâ†@+10


EvalAsFile â† {
  errâ€¿outâ€¿errMsg â† â€¢SH ğ•©âˆ¾âŸœ<Ëœ' '((+`âˆ˜<âŸœÂ»âŠ¸Ã—-Â¬)âˆ˜â‰ âŠ”âŠ¢)"#!"âˆ¾â¼ğ•©â†‘Ëœğ•©âŠlf
  errMsg!0=err
  out
}
EvalBox â† (â€¢ReBQN {replâ‡"strict"}){ğ•¨ğ”½'@'â€¿lfâˆ¾ğ•©}
evalBoxes â† âŸ¨
  â€¢pathâ€¿â€¢nameâ€¿âŸ¨âŸ©âŠ¸EvalBox
  â€¢pathâ€¿â€¢nameâŠ¸âˆ¾âˆ˜<âˆ˜EvalAsFileâŠ¸EvalBoxâŸœ(âˆ¾âŸœ"â€¢args")
âŸ©

Run â† {
  âŠ¢Â´{
    EvalBox ğ•¨â†“Ëœlâ†-lfâŠËœâŒ½ğ•¨
    <ğ•© (Ã—â‰ ğ•©)â—¶evalBoxes lâ†‘ğ•¨
  }Â´Ë˜â†‘â€¿2â¥Š ğ•©âŠ”Ëœ (+`Ã—Â¬)âŠ¸- Â»âŠ¸â‰  Ã—+`-Ë"{}"=âŒœğ•©
}

âŸ¨pathOrCodeâŸ©â†â€¢args

Run â€¢FCharsâŸ("#!"â‰¢2âŠ¸â†‘) pathOrCode
